<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å€‹äººè²¡å‹™è³‡ç”¢è² å‚µè¡¨ ğŸš€</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f4f7f6;
            font-family: "Microsoft JhengHei", sans-serif;
        }
        .card-header {
            font-weight: bold;
            color: white;
        }
        .bg-income { background-color: #28a745; } /* ç¶ è‰²ä»£è¡¨æ”¶å…¥ */
        .bg-expense { background-color: #dc3545; } /* ç´…è‰²ä»£è¡¨æ”¯å‡º */
        .bg-asset { background-color: #007bff; }   /* è—è‰²ä»£è¡¨è³‡ç”¢ */
        .bg-liability { background-color: #fd7e14; } /* æ©˜è‰²ä»£è¡¨è² å‚µ */
        
        .total-box {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .input-group-text {
            background-color: #e9ecef;
            font-size: 0.9rem;
        }
        .form-control {
            text-align: right;
        }
        h5 { font-weight: 700; }
        
        /* æ‰‹æ©Ÿç‰ˆå„ªåŒ–ï¼šç¸½çµå€å¡Šå›ºå®šåœ¨åº•éƒ¨æˆ–é¡¯çœ¼è™• */
        .summary-highlight {
            font-size: 1.2rem;
            font-weight: bold;
            color: #d63384;
        }
    </style>
</head>
<body>

<div class="container py-4">
    <div class="text-center mb-4">
        <h2>ğŸ’° å€‹äººè³‡ç”¢è² å‚µè¡¨</h2>
        <p class="text-muted">è¼¸å…¥æ‚¨çš„è²¡å‹™æ•¸æ“šï¼Œç³»çµ±å°‡è‡ªå‹•è¨ˆç®—ç¾é‡‘æµèˆ‡æ·¨è³‡ç”¢</p>
    </div>

    <div class="row mb-4 text-center">
        <div class="col-6 col-md-3">
            <div class="card shadow-sm border-success">
                <div class="card-body">
                    <h6 class="text-success">ç¸½æ”¶å…¥</h6>
                    <span id="display-total-income" class="fw-bold">0</span>
                </div>
            </div>
        </div>
        <div class="col-6 col-md-3">
            <div class="card shadow-sm border-danger">
                <div class="card-body">
                    <h6 class="text-danger">ç¸½æ”¯å‡º</h6>
                    <span id="display-total-expense" class="fw-bold">0</span>
                </div>
            </div>
        </div>
        <div class="col-6 col-md-3 mt-2 mt-md-0">
            <div class="card shadow-sm border-primary">
                <div class="card-body">
                    <h6 class="text-primary">ç¸½è³‡ç”¢</h6>
                    <span id="display-total-asset" class="fw-bold">0</span>
                </div>
            </div>
        </div>
        <div class="col-6 col-md-3 mt-2 mt-md-0">
            <div class="card shadow-sm border-warning">
                <div class="card-body">
                    <h6 class="text-warning">ç¸½è² å‚µ</h6>
                    <span id="display-total-liability" class="fw-bold">0</span>
                </div>
            </div>
        </div>
    </div>

    <div class="row text-center mb-4">
        <div class="col-12">
            <div class="alert alert-info fw-bold">
                ğŸŒŠ æ¯æœˆæ·¨ç¾é‡‘æµï¼š <span id="net-cashflow">0</span>
            </div>
        </div>
    </div>

    <form id="finance-form">
        <div class="row g-4">
            <div class="col-md-6">
                <div class="card h-100 shadow-sm">
                    <div class="card-header bg-income">ğŸ“¥ æœˆæ”¶å…¥ (Income)</div>
                    <div class="card-body">
                        <div class="mb-2 input-group">
                            <span class="input-group-text">å·¥è³‡æ”¶å…¥</span>
                            <input type="number" class="form-control income-item" placeholder="0">
                        </div>
                        <div class="mb-2 input-group">
                            <span class="input-group-text">å®‰éº—/æ¥­å‹™çé‡‘</span>
                            <input type="number" class="form-control income-item" placeholder="0">
                        </div>
                        <div class="mb-2 input-group">
                            <span class="input-group-text">è¢«å‹•æ”¶å…¥(è‚¡æ¯/æˆ¿ç§Ÿ)</span>
                            <input type="number" class="form-control income-item" placeholder="0">
                        </div>
                        <div class="mb-2 input-group">
                            <span class="input-group-text">å…¶ä»–æ”¶å…¥</span>
                            <input type="number" class="form-control income-item" placeholder="0">
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="card h-100 shadow-sm">
                    <div class="card-header bg-expense">ğŸ“¤ æœˆæ”¯å‡º (Expenses)</div>
                    <div class="card-body">
                        <div class="mb-2 input-group">
                            <span class="input-group-text">ç”Ÿæ´»è²»/ç´å´”èŠ</span>
                            <input type="number" class="form-control expense-item" placeholder="0">
                        </div>
                        <div class="mb-2 input-group">
                            <span class="input-group-text">ä¿éšªè²»(å…¨çƒ/å®‰é”)</span>
                            <input type="number" class="form-control expense-item" placeholder="0">
                        </div>
                        <div class="mb-2 input-group">
                            <span class="input-group-text">æˆ¿ç§Ÿ/æˆ¿è²¸</span>
                            <input type="number" class="form-control expense-item" placeholder="0">
                        </div>
                        <div class="mb-2 input-group">
                            <span class="input-group-text">è»Šè²¸/äº¤é€šè²»</span>
                            <input type="number" class="form-control expense-item" placeholder="0">
                        </div>
                         <div class="mb-2 input-group">
                            <span class="input-group-text">ä¿¡è²¸æœˆä»˜é‡‘</span>
                            <input type="number" class="form-control expense-item" placeholder="0">
                        </div>
                         <div class="mb-2 input-group">
                            <span class="input-group-text">ç¨…é‡‘/å…¶ä»–</span>
                            <input type="number" class="form-control expense-item" placeholder="0">
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="card h-100 shadow-sm">
                    <div class="card-header bg-asset">ğŸ’ è³‡ç”¢ (Assets)</div>
                    <div class="card-body">
                        <div class="mb-2 input-group">
                            <span class="input-group-text">éŠ€è¡Œå„²è“„</span>
                            <input type="number" class="form-control asset-item" placeholder="0">
                        </div>
                        <div class="mb-2 input-group">
                            <span class="input-group-text">è‚¡ç¥¨/ç¾è‚¡/ETF</span>
                            <input type="number" class="form-control asset-item" placeholder="0">
                        </div>
                        <div class="mb-2 input-group">
                            <span class="input-group-text">ä¿å–®ç¾åƒ¹(æ–°å…‰/å®‰é”)</span>
                            <input type="number" class="form-control asset-item" placeholder="0">
                        </div>
                        <div class="mb-2 input-group">
                            <span class="input-group-text">æˆ¿åœ°ç”¢å¸‚å€¼</span>
                            <input type="number" class="form-control asset-item" placeholder="0">
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="card h-100 shadow-sm">
                    <div class="card-header bg-liability">ğŸ’¸ è² å‚µ (Liabilities)</div>
                    <div class="card-body">
                        <div class="mb-2 input-group">
                            <span class="input-group-text">æˆ¿å±‹è²¸æ¬¾</span>
                            <input type="number" class="form-control liability-item" placeholder="0">
                        </div>
                        <div class="mb-2 input-group">
                            <span class="input-group-text">æ±½è»Šè²¸æ¬¾</span>
                            <input type="number" class="form-control liability-item" placeholder="0">
                        </div>
                        <div class="mb-2 input-group">
                            <span class="input-group-text">ä¿¡ç”¨è²¸æ¬¾(ä¿¡è²¸)</span>
                            <input type="number" class="form-control liability-item" placeholder="0">
                        </div>
                        <div class="mb-2 input-group">
                            <span class="input-group-text">ä¿å–®å€Ÿæ¬¾</span>
                            <input type="number" class="form-control liability-item" placeholder="0">
                        </div>
                        <div class="mb-2 input-group">
                            <span class="input-group-text">ä¿¡ç”¨å¡æœªç¹³é¤˜é¡</span>
                            <input type="number" class="form-control liability-item" placeholder="0">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
    
    <div class="text-center mt-5 text-muted" style="font-size: 0.8rem;">
        <p>æ­¤å·¥å…·åƒ…ä¾›è²¡å‹™æ•´ç†åƒè€ƒï¼ŒDesigned for Cashflow Builders.</p>
    </div>
</div>

<script>
    // æ ¼å¼åŒ–æ•¸å­—ç‚ºè²¨å¹£æ ¼å¼ (ä¾‹å¦‚: 1,000)
    function formatCurrency(num) {
        return "NT$ " + num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    }

    // è¨ˆç®—ç¸½å’Œçš„å‡½å¼
    function calculate() {
        let totalIncome = 0;
        let totalExpense = 0;
        let totalAsset = 0;
        let totalLiability = 0;

        // åŠ ç¸½ Income
        document.querySelectorAll('.income-item').forEach(item => {
            totalIncome += Number(item.value) || 0;
        });

        // åŠ ç¸½ Expense
        document.querySelectorAll('.expense-item').forEach(item => {
            totalExpense += Number(item.value) || 0;
        });

        // åŠ ç¸½ Asset
        document.querySelectorAll('.asset-item').forEach(item => {
            totalAsset += Number(item.value) || 0;
        });

        // åŠ ç¸½ Liability
        document.querySelectorAll('.liability-item').forEach(item => {
            totalLiability += Number(item.value) || 0;
        });

        // æ›´æ–° UI é¡¯ç¤º
        document.getElementById('display-total-income').textContent = formatCurrency(totalIncome);
        document.getElementById('display-total-expense').textContent = formatCurrency(totalExpense);
        document.getElementById('display-total-asset').textContent = formatCurrency(totalAsset);
        document.getElementById('display-total-liability').textContent = formatCurrency(totalLiability);

        // è¨ˆç®—æ·¨ç¾é‡‘æµ (æ”¶å…¥ - æ”¯å‡º)
        let netCashflow = totalIncome - totalExpense;
        let cashflowElement = document.getElementById('net-cashflow');
        cashflowElement.textContent = formatCurrency(netCashflow);
        
        // æ ¹æ“šæ­£è² å€¼æ”¹è®Šé¡è‰²
        if (netCashflow > 0) {
            cashflowElement.className = "text-success fw-bold";
        } else {
            cashflowElement.className = "text-danger fw-bold";
        }
    }

    // ç›£è½æ‰€æœ‰è¼¸å…¥æ¡†çš„è®Šå‹•
    document.querySelectorAll('input').forEach(input => {
        input.addEventListener('input', calculate);
    });
</script>

</body>
</html>
