<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meta AI è…³æœ¬ç”¢ç”Ÿå™¨ ğŸ‘‘</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .gradient-bg { background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d); }
    </style>
</head>
<body class="bg-gray-50 font-sans">

    <nav class="gradient-bg p-5 text-white shadow-xl">
        <div class="container mx-auto flex justify-between items-center">
            <h1 class="text-2xl font-bold italic">Meta å¼•æµç³»çµ±ï¼šä»£ç¢¼ç”Ÿæˆå™¨ ğŸš€</h1>
            <p class="text-sm">æ‰“é€ è¤‡åˆ©äº‹æ¥­ï¼Œé‚å‘çš‡å† å¤§ä½¿ ğŸ‘‘</p>
        </div>
    </nav>

    <div class="container mx-auto p-6 max-w-6xl">
        <div class="grid lg:grid-cols-2 gap-8">
            
            <div class="bg-white p-6 rounded-2xl shadow-lg border border-gray-100">
                <h2 class="text-xl font-bold mb-6 text-gray-800 border-b pb-2">â• æ–°å¢å¼•æµè¦å‰‡</h2>
                
                <div class="space-y-5">
                    <div>
                        <label class="block text-sm font-semibold text-gray-600 mb-1">è§¸ç™¼é—œéµå­—</label>
                        <input id="keyword" type="text" placeholder="ä¾‹å¦‚ï¼šé ˜å–æ–¹æ¡ˆ" class="w-full border-2 border-gray-200 rounded-xl p-3 focus:border-purple-500 outline-none transition">
                    </div>

                    <div>
                        <label class="block text-sm font-semibold text-gray-600 mb-1">æ„Ÿæ€§å›è¦†æ–‡å­— (åŒ…å«è¡¨æƒ…ç¬¦è™Ÿ ğŸ˜Š)</label>
                        <textarea id="replyText" rows="3" placeholder="è¼¸å…¥ä½ æƒ³å°æœ‹å‹èªªçš„æº«æš–è©±èª..." class="w-full border-2 border-gray-200 rounded-xl p-3 focus:border-purple-500 outline-none transition"></textarea>
                    </div>

                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-semibold text-gray-600 mb-1">åª’é«”é¡å‹</label>
                            <select id="msgType" class="w-full border-2 border-gray-200 rounded-xl p-3 bg-white">
                                <option value="text">ç´”æ–‡å­—è¨Šæ¯ ğŸ’¬</option>
                                <option value="image">åœ–ç‰‡é€£çµ ğŸ–¼ï¸</option>
                                <option value="audio">èªéŸ³è¨Šæ¯ ğŸ™ï¸</option>
                                <option value="video">çŸ­å½±éŸ³ (MP4) ğŸ¥</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-600 mb-1">åª’é«”ç¶²å€ (é¸å¡«)</label>
                            <input id="mediaUrl" type="text" placeholder="https://..." class="w-full border-2 border-gray-200 rounded-xl p-3 focus:border-purple-500 outline-none transition">
                        </div>
                    </div>

                    <button onclick="addRule()" class="w-full gradient-bg text-white font-bold py-3 rounded-xl shadow-lg hover:opacity-90 transition transform hover:scale-[1.02]">
                        åŠ å…¥è¦å‰‡åˆ—è¡¨
                    </button>
                </div>
            </div>

            <div class="space-y-6">
                <div class="bg-white p-6 rounded-2xl shadow-lg border border-gray-100">
                    <h2 class="text-xl font-bold mb-4 text-gray-800">ğŸ“‹ ç›®å‰è¦å‰‡é è¦½</h2>
                    <div id="ruleList" class="space-y-3 min-h-[100px] max-h-[250px] overflow-y-auto">
                        <p class="text-gray-400 text-center py-10">å°šæœªæ–°å¢è¦å‰‡</p>
                    </div>
                </div>

                <div class="bg-gray-900 p-6 rounded-2xl shadow-2xl relative">
                    <h2 class="text-green-400 font-mono mb-4 text-sm font-bold">// GAS å°ˆç”¨ç¨‹å¼ç¢¼è¼¸å‡º</h2>
                    <button onclick="copyCode()" class="absolute top-4 right-4 bg-gray-700 text-xs text-white px-3 py-1 rounded hover:bg-gray-600">è¤‡è£½å…¨éƒ¨</button>
                    <pre id="outputCode" class="text-green-400 font-mono text-xs overflow-x-auto leading-relaxed">const REPLY_RULES = [];</pre>
                </div>
            </div>

        </div>
    </div>

    <script>
        let rules = [];

        function addRule() {
            const kw = document.getElementById('keyword').value;
            const text = document.getElementById('replyText').value;
            const type = document.getElementById('msgType').value;
            const url = document.getElementById('mediaUrl').value;

            if(!kw || !text) return alert('ã€Œé—œéµå­—ã€èˆ‡ã€Œå›è¦†æ–‡å­—ã€æ˜¯å¿…å¡«çš„å–”ï¼');

            rules.push({
                "keyword": kw,
                "type": type,
                "content": url || "",
                "text": text
            });

            renderUI();
            
            // æ¸…ç©ºè¼¸å…¥
            document.getElementById('keyword').value = '';
            document.getElementById('replyText').value = '';
            document.getElementById('mediaUrl').value = '';
        }

        function renderUI() {
            // æ¸²æŸ“åˆ—è¡¨
            const list = document.getElementById('ruleList');
            list.innerHTML = rules.length === 0 ? '<p class="text-gray-400 text-center py-10">å°šæœªæ–°å¢è¦å‰‡</p>' : '';
            rules.forEach((r, index) => {
                list.innerHTML += `
                    <div class="flex justify-between items-center p-4 bg-gray-50 rounded-xl border-l-4 border-purple-500 shadow-sm">
                        <div class="flex-1 truncate mr-4">
                            <span class="font-bold text-purple-700">#${index + 1} [${r.keyword}]</span>
                            <p class="text-xs text-gray-500 truncate mt-1">${r.text}</p>
                        </div>
                        <button onclick="deleteRule(${index})" class="text-red-400 hover:text-red-600 font-bold">âŒ</button>
                    </div>
                `;
            });

            // æ¸²æŸ“ä»£ç¢¼
            const output = document.getElementById('outputCode');
            const codeString = `const REPLY_RULES = ${JSON.stringify(rules, null, 2)};`;
            output.innerText = codeString;
        }

        function deleteRule(index) {
            rules.splice(index, 1);
            renderUI();
        }

        function copyCode() {
            const code = document.getElementById('outputCode').innerText;
            navigator.clipboard.writeText(code).then(() => {
                alert('ä»£ç¢¼å·²è¤‡è£½ï¼å¯ä»¥å» GAS è²¼ä¸Šå›‰ ğŸš€');
            });
        }
    </script>
</body>
</html>
