<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>LINE å…¨å·¥å…·ä¸­æ§å°ï½œé¦–é </title>
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    :root{
      --ink:#0f172a;
      --muted:#475569;
      --muted2:#64748b;
      --bd:rgba(15,23,42,.10);
      --bg:#f8fafc;
      --glass: rgba(255,255,255,.80);
      --glass2: rgba(255,255,255,.66);
      --shadow: 0 18px 55px rgba(15,23,42,.10);
      --shadow2: 0 8px 24px rgba(15,23,42,.08);
    }
    body{
      color:var(--ink);
      background:
        radial-gradient(1200px 600px at 10% 0%, rgba(59,130,246,.18), transparent 55%),
        radial-gradient(950px 520px at 90% 12%, rgba(16,185,129,.16), transparent 55%),
        radial-gradient(1000px 650px at 50% 110%, rgba(245,158,11,.14), transparent 60%),
        var(--bg);
    }
    .glass{
      background: var(--glass);
      border:1px solid var(--bd);
      backdrop-filter: blur(12px);
      box-shadow: var(--shadow);
    }
    .glass-soft{
      background: var(--glass2);
      border:1px solid var(--bd);
      backdrop-filter: blur(10px);
      box-shadow: var(--shadow2);
    }
    .btn{ border:1px solid var(--bd); background: white; }
    .btn:hover{ background:#f1f5f9; }
    .pill{ border:1px solid var(--bd); background: rgba(255,255,255,.70); }
    .toolcard{
      background: rgba(255,255,255,.84);
      border: 1px solid var(--bd);
      box-shadow: 0 10px 26px rgba(15,23,42,.06);
      transition: transform .15s ease, box-shadow .15s ease, background .15s ease;
    }
    .toolcard:hover{
      transform: translateY(-2px);
      box-shadow: 0 16px 38px rgba(15,23,42,.10);
      background: rgba(255,255,255,.95);
    }
    .kbd{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
      border:1px solid var(--bd);
      background: rgba(255,255,255,.75);
      padding:.12rem .45rem;
      border-radius: .7rem;
      font-size: .82em;
      color:#0f172a;
    }
  </style>
</head>

<body class="min-h-screen">
  <header class="sticky top-0 z-30">
    <div class="mx-auto max-w-6xl px-4 pt-4">
      <div class="glass rounded-3xl px-5 py-4 flex items-center justify-between gap-3">
        <div class="flex items-center gap-3">
          <div class="h-12 w-12 rounded-2xl flex items-center justify-center"
               style="background: linear-gradient(135deg, rgba(59,130,246,.20), rgba(16,185,129,.18)); border:1px solid var(--bd);">
            <span class="text-2xl">ğŸ§°</span>
          </div>
          <div>
            <div class="text-lg font-extrabold leading-tight">LINE å…¨å·¥å…·ä¸­æ§å°</div>
            <div class="text-sm mt-1" style="color:var(--muted2)">
              å…¥å£ç¶²ç«™ï¼š<span class="kbd" id="siteText"></span>
            </div>
          </div>
        </div>

        <div class="flex items-center gap-2">
          <span id="envBadge" class="pill text-xs px-3 py-2 rounded-2xl">åµæ¸¬ä¸­â€¦</span>
          <button id="btnHelp" class="btn text-sm px-4 py-2 rounded-2xl">æ•™å­¸ / èªªæ˜</button>
        </div>
      </div>
    </div>
  </header>

  <main class="mx-auto max-w-6xl px-4 pb-24">
    <section class="mt-4 glass-soft rounded-3xl p-5">
      <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4">
        <div>
          <div class="text-base font-bold">å¿«é€Ÿå…¥å£</div>
          <div class="mt-1 text-sm" style="color:var(--muted)">
            é€™æ˜¯ã€Œå…¨éƒ¨å·¥å…·ã€çš„å¾Œå°å…¥å£ã€‚æ‰€æœ‰å·¥å…·é€£çµå›ºå®šè·³åˆ°ï¼š<span class="kbd" id="toolsRootText"></span>ã€€
            æŒ‰ <span class="kbd">/</span> èšç„¦æœå°‹ã€‚
          </div>

          <div class="mt-3 flex flex-wrap gap-2 text-sm">
            <span class="pill px-3 py-2 rounded-2xl">âš¡ å¿«é€Ÿå›è¦†</span>
            <span class="pill px-3 py-2 rounded-2xl">ğŸ¤– è‡ªå‹•å›è¦†</span>
            <span class="pill px-3 py-2 rounded-2xl">ğŸ“Œ Rich Menu</span>
            <span class="pill px-3 py-2 rounded-2xl">ğŸ—ºï¸ Imagemap</span>
            <span class="pill px-3 py-2 rounded-2xl">ğŸ§­ æµç¨‹å·¥å…·</span>
          </div>
        </div>

        <div class="flex flex-wrap gap-2">
          <button class="btn text-sm px-4 py-2 rounded-2xl" onclick="go('quick')">âš¡ é€²å…¥å¿«é€Ÿå›è¦†</button>
          <button class="btn text-sm px-4 py-2 rounded-2xl" onclick="go('auto')">ğŸ¤– é€²å…¥è‡ªå‹•å›è¦†</button>
          <button class="btn text-sm px-4 py-2 rounded-2xl" onclick="go('rich')">ğŸ“Œ é€²å…¥ Rich Menu</button>
        </div>
      </div>

      <div class="mt-4 grid lg:grid-cols-3 gap-3 text-sm">
        <div class="pill rounded-2xl p-4">
          <div class="font-semibold">ä½ ç›®å‰é–‹å•Ÿçš„ä½ç½®</div>
          <div class="mt-1" style="color:var(--muted)">
            Hostï¼š<span id="host" class="font-mono"></span><br/>
            Pathï¼š<span id="path" class="font-mono"></span>
          </div>
        </div>
        <div class="pill rounded-2xl p-4">
          <div class="font-semibold">å·¥å…·æ ¹ç›®éŒ„</div>
          <div class="mt-1" style="color:var(--muted)">
            <span class="font-mono" id="toolsRootHint"></span>
          </div>
        </div>
        <div class="pill rounded-2xl p-4">
          <div class="font-semibold">ä¸€éµæ¸¬è©¦</div>
          <div class="mt-2">
            <button id="btnTest" class="btn text-sm px-4 py-2 rounded-2xl">é–‹æ–°åˆ†é æ¸¬è©¦å·¥å…·</button>
          </div>
        </div>
      </div>
    </section>

    <section class="mt-5 glass-soft rounded-3xl p-5">
      <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3">
        <div>
          <div class="text-base font-bold">å·¥å…·åˆ—è¡¨ï¼ˆä¸­æ–‡ï¼‰</div>
          <div class="text-sm" style="color:var(--muted)">æœå°‹ï¼šå›è¦† / é¸å–® / åœ– / æµç¨‹ / è¨­å®š</div>
        </div>

        <div class="flex items-center gap-2 w-full md:w-[420px]">
          <input id="q" class="w-full rounded-2xl px-4 py-3 border bg-white/80"
                 style="border-color:var(--bd)"
                 placeholder="æœå°‹å·¥å…·â€¦ï¼ˆæŒ‰ / èšç„¦ï¼‰" autocomplete="off" />
          <button id="clear" class="btn px-4 py-3 rounded-2xl text-sm">æ¸…é™¤</button>
        </div>
      </div>
    </section>

    <section class="mt-4">
      <div id="grid" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4"></div>

      <div id="empty" class="hidden mt-5 glass-soft rounded-3xl p-6 text-center">
        <div class="text-lg font-bold">æ‰¾ä¸åˆ°ç¬¦åˆçš„å·¥å…·</div>
        <div class="mt-2 text-sm" style="color:var(--muted)">æ›å€‹é—œéµå­—ï¼šå›è¦† / rich / åœ–æ–‡ / æµç¨‹</div>
      </div>
    </section>
  </main>

  <nav class="fixed bottom-0 left-0 right-0 z-30">
    <div class="mx-auto max-w-6xl px-4 pb-4">
      <div class="glass rounded-3xl px-4 py-3 flex items-center justify-between gap-3">
        <div class="text-xs" style="color:var(--muted)">
          å¿«æ·éµï¼š<span class="kbd">/</span> æœå°‹ã€€<span class="kbd">Esc</span> é—œé–‰æ•™å­¸
        </div>
        <div class="flex items-center gap-2">
          <button class="btn text-xs px-3 py-2 rounded-2xl" onclick="go('lab')">å„€è¡¨æ¿</button>
          <button class="btn text-xs px-3 py-2 rounded-2xl" onclick="go('quick')">å¿«é€Ÿå›è¦†</button>
          <button class="btn text-xs px-3 py-2 rounded-2xl" onclick="go('auto')">è‡ªå‹•å›è¦†</button>
        </div>
      </div>
    </div>
  </nav>

  <!-- âœ… ä¿®å¥½ï¼šæ•™å­¸æ¡†å¯æ²å‹• + ç½®é ‚/ç½®åº•æ“ä½œ -->
  <div id="modal" class="hidden fixed inset-0 z-50">
    <div class="absolute inset-0 bg-black/40"></div>

    <!-- å¤–å±¤å®¹å™¨ï¼šç½®ä¸­ + ç•™ç™½ -->
    <div class="relative mx-auto max-w-2xl px-4 py-6 sm:py-10 h-full flex items-center">
      <!-- å…§å®¹å¡ï¼šé™åˆ¶é«˜åº¦ -->
      <div class="glass rounded-3xl w-full max-h-[85vh] flex flex-col overflow-hidden">
        <!-- Header å›ºå®š -->
        <div class="px-5 py-4 border-b" style="border-color:var(--bd);">
          <div class="flex items-start justify-between gap-3">
            <div>
              <div class="text-lg font-extrabold">æ•™å­¸ / èªªæ˜ï¼ˆå…¨å·¥å…·å¾Œå°ï¼‰</div>
              <div class="text-sm mt-1" style="color:var(--muted)">
                é€™ä¸æ˜¯å•å·å¾Œå°ï¼Œæ˜¯ã€Œæ‰€æœ‰å·¥å…·ã€çš„å…¥å£èˆ‡ç®¡ç†é ã€‚
              </div>
            </div>
            <button id="btnCloseTop" class="btn text-sm px-4 py-2 rounded-2xl">é—œé–‰</button>
          </div>
        </div>

        <!-- âœ… Body å¯æ²å‹• -->
        <div class="px-5 py-4 overflow-auto">
          <div class="space-y-3 text-sm">
            <div class="pill rounded-2xl p-4">
              <div class="font-bold">âœ… å·¥å…·å›ºå®šä½ç½®</div>
              <div class="mt-1" style="color:var(--muted)">
                æ‰€æœ‰å·¥å…·é éƒ½åœ¨ï¼š<span class="kbd" id="toolsRootHint2"></span>
              </div>
            </div>

            <div class="pill rounded-2xl p-4">
              <div class="font-bold">âœ… ä½ è¦æ€éº¼ç”¨</div>
              <div class="mt-2" style="color:var(--muted)">
                1) åœ¨é¦–é æœå°‹ä½ è¦çš„å·¥å…·ï¼ˆä¾‹å¦‚ï¼šå›è¦† / Rich / æµç¨‹ï¼‰<br/>
                2) é»å¡ç‰‡é€²å…¥å·¥å…·é é–‹å§‹æ“ä½œ<br/>
                3) æ¯å€‹å·¥å…·éƒ½æ˜¯ç¨ç«‹é é¢ï¼šäº’ä¸å½±éŸ¿
              </div>
            </div>

            <div class="pill rounded-2xl p-4">
              <div class="font-bold">âœ… å¿«æ·éµ</div>
              <div class="mt-2" style="color:var(--muted)">
                <span class="kbd">/</span> èšç„¦æœå°‹ã€€<span class="kbd">Esc</span> é—œé–‰æ•™å­¸
              </div>
            </div>

            <div class="pill rounded-2xl p-4">
              <div class="font-bold">âœ… å¸¸è¦‹å•é¡Œï¼ˆä½ å‰›é‡åˆ°çš„ï¼‰</div>
              <div class="mt-2" style="color:var(--muted)">
                â€¢ å¦‚æœä½ åœ¨ github.io é–‹é¦–é ä¹Ÿæ²’é—œä¿‚ï¼šæˆ‘å·²æŠŠæ‰€æœ‰å·¥å…·é€£çµå›ºå®šè·³åˆ° workers.devã€‚<br/>
                â€¢ å¦‚æœæŸå€‹å·¥å…· 404ï¼šé€šå¸¸æ˜¯å·¥å…·æª”åä¸ä¸€è‡´ï¼ˆå¤§å°å¯«/åº•ç·šï¼‰ï¼Œç›´æ¥æ”¹æª”åæˆ–æ”¹é€™é çš„ file å³å¯ã€‚
              </div>
            </div>

            <div class="pill rounded-2xl p-4">
              <div class="font-bold">âœ… å…¥å£ç«™é»</div>
              <div class="mt-2" style="color:var(--muted)">
                ç«™é»ï¼š<span class="kbd" id="siteText2"></span>
              </div>
            </div>
          </div>
        </div>

        <!-- Footer å›ºå®š -->
        <div class="px-5 py-4 border-t flex items-center justify-between gap-3" style="border-color:var(--bd);">
          <div class="text-xs" style="color:var(--muted)">
            å°æŠ€å·§ï¼šæ‰‹æ©Ÿä¹Ÿèƒ½æ»‘å‹•çœ‹å®Œå…§å®¹ï¼ˆå·²ä¿®å¥½ï¼‰
          </div>
          <button id="btnClose" class="btn text-sm px-4 py-2 rounded-2xl">é—œé–‰</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // âœ… ä½ æŒ‡å®šçš„æ­£ç¢ºç«™é»
    const SITE_ORIGIN = "https://api.zxcv8096.workers.dev";
    const TOOLS_ROOT  = SITE_ORIGIN + "/pages/tools/";

    const TOOLS = [
      { key:"lab",      icon:"ğŸš¦", title:"å„€è¡¨æ¿",         desc:"ç‹€æ…‹ã€æ¸¬è©¦ã€å½™æ•´å…¥å£",         tag:"Dashboard", file:"lab_dashboard.html",   keywords:["å„€è¡¨æ¿","dashboard","lab","ç‹€æ…‹","æ¸¬è©¦"] },
      { key:"quick",    icon:"âš¡", title:"å¿«é€Ÿå›è¦†",       desc:"å»ºç«‹ / ç®¡ç† Quick Reply",      tag:"Reply",     file:"quickreply.html",        keywords:["å¿«é€Ÿå›è¦†","quick","reply","å›è¦†"] },
      { key:"auto",     icon:"ğŸ¤–", title:"è‡ªå‹•å›è¦†",       desc:"é—œéµå­— â†’ è¦å‰‡åº«å›è¦†",          tag:"Rules",     file:"auto_reply.html",        keywords:["è‡ªå‹•å›è¦†","auto","é—œéµå­—","è¦å‰‡","rules"] },
      { key:"carousel", icon:"ğŸ§©", title:"è¼ªæ’­å¡ç‰‡",       desc:"Carousel å¡ç‰‡çµ„è£ / ç”¢ç”Ÿ",      tag:"Cards",     file:"tool_carousel.html",     keywords:["carousel","è¼ªæ’­","å¡ç‰‡"] },
      { key:"flow",     icon:"ğŸ§­", title:"æµç¨‹å·¥å…·",       desc:"ç¯€é» / æµç¨‹è¦–è¦ºåŒ–å·¥å…·é ",       tag:"Flow",      file:"tool_flow.html",         keywords:["æµç¨‹","flow","ç¯€é»","è¦–è¦ºåŒ–"] },
      { key:"map",      icon:"ğŸ—ºï¸", title:"Imagemap ç†±å€",  desc:"ç†±å€ / é»æ“Šå€åŸŸé…ç½®",          tag:"Map",       file:"tool_imagemap.html",     keywords:["imagemap","ç†±å€","é»æ“Š","åœ–ç‰‡","map"] },
      { key:"meta",     icon:"ğŸ§¾", title:"è¨­å®šç·¨è¼¯å™¨",     desc:"Meta / è¨­å®šå…§å®¹ç·¨è¼¯",           tag:"Config",    file:"tool_meta_editor.html",  keywords:["meta","è¨­å®š","config","åƒæ•¸","json"] },
      { key:"rich",     icon:"ğŸ“Œ", title:"Rich Menu",      desc:"åœ–æ–‡é¸å–®è¨­è¨ˆ / ç®¡ç†",           tag:"Menu",      file:"tool_richmenu.html",     keywords:["rich","menu","é¸å–®","åœ–æ–‡","richmenu"] },
    ];

    function urlFor(file){ return TOOLS_ROOT + file; }
    function go(key){
      const t = TOOLS.find(x=>x.key===key);
      if(!t) return alert("æ‰¾ä¸åˆ°å·¥å…·ï¼š" + key);
      location.href = urlFor(t.file);
    }
    window.go = go;

    // render
    const grid = document.getElementById("grid");
    const empty = document.getElementById("empty");

    function cardHTML(t){
      return `
        <button class="toolcard rounded-3xl p-5 text-left w-full" data-key="${t.key}">
          <div class="flex items-start justify-between gap-3">
            <div class="flex items-start gap-3">
              <div class="h-12 w-12 rounded-2xl flex items-center justify-center"
                   style="background:linear-gradient(135deg, rgba(59,130,246,.14), rgba(16,185,129,.12)); border:1px solid var(--bd);">
                <span class="text-2xl">${t.icon}</span>
              </div>
              <div>
                <div class="text-lg font-extrabold leading-tight">${t.title}</div>
                <div class="text-sm mt-1" style="color:var(--muted)">${t.desc}</div>
              </div>
            </div>
            <span class="pill text-xs px-3 py-1 rounded-2xl whitespace-nowrap">${t.tag}</span>
          </div>
          <div class="mt-4 text-xs" style="color:var(--muted2)">
            é€£çµï¼š<span class="font-mono">${TOOLS_ROOT}${t.file}</span>
          </div>
        </button>
      `;
    }

    function render(list){
      grid.innerHTML = list.map(cardHTML).join("");
      grid.querySelectorAll("[data-key]").forEach(el=>{
        el.addEventListener("click", ()=> go(el.dataset.key));
      });
      empty.classList.toggle("hidden", list.length !== 0);
    }
    render(TOOLS);

    // search
    const q = document.getElementById("q");
    const clear = document.getElementById("clear");
    function norm(s){ return (s||"").toLowerCase().trim(); }
    function applyFilter(){
      const query = norm(q.value);
      if(!query) return render(TOOLS);
      const filtered = TOOLS.filter(t=>{
        const hay = [t.title,t.desc,t.tag,t.key,t.file,...(t.keywords||[])].join(" ").toLowerCase();
        return hay.includes(query);
      });
      render(filtered);
    }
    q.addEventListener("input", applyFilter);
    clear.addEventListener("click", ()=>{ q.value=""; q.focus(); render(TOOLS); });

    // diag text
    document.getElementById("host").textContent = location.host;
    document.getElementById("path").textContent = location.pathname;

    const envBadge = document.getElementById("envBadge");
    if (location.origin === SITE_ORIGIN){
      envBadge.textContent = "ä½ ç¾åœ¨åœ¨ Workers ç¶²ç«™ï¼ˆâœ… æ­£ç¢ºï¼‰";
    } else if (location.host.endsWith("github.io")){
      envBadge.textContent = "ä½ ç¾åœ¨åœ¨ github.ioï¼ˆæœƒè·³è½‰åˆ° Workersï¼‰";
    } else if (location.host === "github.com"){
      envBadge.textContent = "ä½ ç¾åœ¨åœ¨ GitHub Code é ï¼ˆä¸æ˜¯ç¶²ç«™ï¼‰";
    } else {
      envBadge.textContent = "ä¸€èˆ¬ç¶²ç«™æ¨¡å¼ï¼ˆæœƒè·³è½‰åˆ° Workersï¼‰";
    }

    document.getElementById("siteText").textContent = SITE_ORIGIN;
    document.getElementById("siteText2").textContent = SITE_ORIGIN;

    document.getElementById("toolsRootText").textContent = TOOLS_ROOT;
    document.getElementById("toolsRootHint").textContent = TOOLS_ROOT;
    document.getElementById("toolsRootHint2").textContent = TOOLS_ROOT;

    document.getElementById("btnTest").addEventListener("click", ()=>{
      window.open(urlFor("quickreply.html"), "_blank");
    });

    // âœ… modal open/close + ä¿®å¾©æ»¾å‹•
    const modal = document.getElementById("modal");
    const openModal = ()=> modal.classList.remove("hidden");
    const closeModal = ()=> modal.classList.add("hidden");

    document.getElementById("btnHelp").addEventListener("click", openModal);
    document.getElementById("btnClose").addEventListener("click", closeModal);
    document.getElementById("btnCloseTop").addEventListener("click", closeModal);

    modal.addEventListener("click", (e)=>{ if(e.target === modal) closeModal(); });

    // shortcuts
    window.addEventListener("keydown", (e)=>{
      if (e.key === "/" && document.activeElement !== q){
        e.preventDefault(); q.focus();
      }
      if (e.key === "Escape"){
        closeModal();
      }
    });
  </script>
</body>
</html>
